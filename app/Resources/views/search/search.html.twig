{% extends 'membre.html.twig' %}


{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset('style/search.css') }}" rel="stylesheet" type="text/css" media="screen,projection"/>
{% endblock %}



{% block content %}

    <div class="col-md-10 col-sm-8 banniere">

            <div class="col-md-10 col-sm-8 ban">
                <img src="{{ asset('img/voyage.jpg') }}" />
            </div>

            <div class="col-md-10 col-sm-8 inner-banner">
                <h1 id="joinus">Recherchez un groupe</h1>

                {{ form_start(form) }}

                <div class="form-group">
                    {{ form_label(form.dateDebutG, 'Date du début de votre séjour') }}
                    {{ form_widget(form.dateDebutG, {'attr': {'class':"form-control"}}) }}
                    {{ form_errors(form.dateDebutG) }}
                </div>

                <div class="form-group">
                    {{ form_label(form.dateFinG, 'Date de la fin de votre séjour') }}
                    {{ form_widget(form.dateFinG, {'attr':{'class':"form-control"}}) }}
                    {{ form_errors(form.dateFinG) }}
                </div>

                <div class="form-group">
                    {{ form_label(form.lieuG, 'Lieu de votre séjour') }}
                    {{ form_widget(form.lieuG, {'attr':{'class':"form-control", 'placeholder': "Entrez le lieu de votre séjour"}}) }}
                    {{ form_errors(form.lieuG) }}
                </div>

                <input type="submit" value="Valider" id="button" class="btn btn-primary btn-lg btn-block login-button"/>

                {{ form_end(form) }}
            </div>

    </div>



    {% if searchResult is defined and searchResult==null %}

        {% for message in app.flashes('bat-alarm') %}
            <div class="flash-notice">
                {{ message }}
            </div>
        {% endfor %}

        <div class="col-md-10 col-sm-8 table">
        <table>
            <thead>
            <tr>
                <th>Nom du groupe</th>
                <th>Date du début du séjour</th>
                <th>Date de fin du séjour</th>
                <th>Lieu du séjour</th>
            </tr>
            </thead>
            <tbody>
            {% for groupe in groupes %}
                <tr>
                    <td>{{ groupe.nomG }}</td>
                    <td>{% if groupe.dateDebutG %}{{ groupe.dateDebutG|date('Y-m-d') }}{% endif %}</td>
                    <td>{% if groupe.dateFinG %}{{ groupe.dateFinG|date('Y-m-d') }}{% endif %}</td>
                    <td>{{ groupe.lieuG }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
        </div>

    {% elseif searchResult is defined %}

        <table>
            <thead>
                <tr>
                    <th>Nom du groupe</th>
                    <th>Date du début du séjour</th>
                    <th>Date de fin du séjour</th>
                    <th>Lieu du séjour</th>
                </tr>
            </thead>
            <tbody>
        {% for x in searchResult %}
            <tr>
                <td>{{ x.nomG }}</td>
                <td>{% if x.dateDebutG %}{{ x.dateDebutG|date('Y-m-d') }}{% endif %}</td>
                <td>{% if x.dateFinG %}{{ x.dateFinG|date('Y-m-d') }}{% endif %}</td>
                <td>{{ x.lieuG }}</td>
            </tr>
        {% endfor %}
            </tbody>
        </table>

    {% endif %}


{% endblock %}
